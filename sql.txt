CREATE TABLE "recipient" (
	"id" serial NOT NULL,
	"name" character varying(100) NOT NULL,
	"city" character varying(100) NOT NULL,
	"address" character varying(100) NOT NULL,
	"debt" numeric NOT NULL,
	"fine" numeric NOT NULL,
	CONSTRAINT recipient_pk PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "packages" (
	"tracking_code" serial NOT NULL UNIQUE,
	"id_recipient" int NOT NULL,
	"price" numeric NOT NULL,
	"weight" numeric NOT NULL,
	"id_user" int NOT NULL,
	"date" DATE NOT NULL,
	"despcription" character varying(1000) NOT NULL,
	"country_sender" character varying(100) NOT NULL,
	"payment_deadline" DATE NOT NULL,
	"days_of_delay" int NOT NULL,
	"debt" numeric NOT NULL,
	"fine" numeric NOT NULL,
	CONSTRAINT packages_pk PRIMARY KEY ("tracking_code")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "user" (
	"id" serial NOT NULL UNIQUE,
	"login" character varying(100) NOT NULL UNIQUE,
	"password" character varying(100) NOT NULL,
	CONSTRAINT user_pk PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "user_credentials" (
	"id" serial NOT NULL UNIQUE,
	"first_name" character varying(100) NOT NULL,
	"last_name" character varying(100) NOT NULL,
	"created" DATE NOT NULL,
	"status" int NOT NULL,
	"post" character varying(200),
	"rank" int,
	CONSTRAINT user_credentials_pk PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "products" (
	"id" serial NOT NULL,
	"type_product" character varying NOT NULL,
	"name_product" character varying NOT NULL UNIQUE,
	"limit" int NOT NULL,
	"price_product" numeric NOT NULL,
	"status" BOOLEAN NOT NULL,
	CONSTRAINT products_pk PRIMARY KEY ("id")
) WITH (
  OIDS=FALSE
);



CREATE TABLE "packages_products" (
	"package" serial NOT NULL,
	"id_product" serial NOT NULL
) WITH (
  OIDS=FALSE
);




ALTER TABLE "packages" ADD CONSTRAINT "packages_fk0" FOREIGN KEY ("id_recipient") REFERENCES "recipient"("id");
ALTER TABLE "packages" ADD CONSTRAINT "packages_fk1" FOREIGN KEY ("id_user") REFERENCES "user"("id");


ALTER TABLE "user_credentials" ADD CONSTRAINT "user_credentials_fk0" FOREIGN KEY ("id") REFERENCES "user"("id");


ALTER TABLE "packages_products" ADD CONSTRAINT "packages_products_fk0" FOREIGN KEY ("package") REFERENCES "packages"("tracking_code");
ALTER TABLE "packages_products" ADD CONSTRAINT "packages_products_fk1" FOREIGN KEY ("id_product") REFERENCES "products"("id");

